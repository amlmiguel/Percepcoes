str(nn.percepcoes)
percepcoes_orig$tempo.que.vive.nessa.comunidade <- as.numeric(percepcoes_orig$tempo.que.vive.nessa.comunidade)
select(percepcoes_orig,contains("tempo"))
str(nn.percepcoes)
###convertendo números em numeric
percepcoes_orig$tempo.que.vive.nessa.comunidade <- as.numeric(percepcoes_orig$tempo.que.vive.nessa.comunidade)
percepcoes_orig$quanto.tempo.é.casado.ou.mora.junto..anos.<- as.numeric(percepcoes_orig$quanto.tempo.é.casado.ou.mora.junto..anos.)
percepcoes_orig$quanto.tempo.é.casado.ou.mora.junto..anos..1<- as.numeric(percepcoes_orig$quanto.tempo.é.casado.ou.mora.junto..anos..1)
percepcoes_orig$educação..esposa.<-as.numeric(percepcoes_orig$educação..esposa.)
percepcoes_orig$educação..esposa..codif<- as.numeric(percepcoes_orig$percepcoes_orig$educação..esposa..codif)
percepcoes_orig$idade..marido.<- as.numeric(percepcoes_orig$idade..marido.)
percepcoes_orig$educação..marido.<-as.numeric(percepcoes_orig$educação..marido.)
percepcoes_orig$valor.do.aposentadoria<-as.numeric(percepcoes_orig$valor.do.aposentadoria)
percepcoes_orig$desde.que.ano.recebe..aposentadoria. <- as.numeric(percepcoes_orig$desde.que.ano.recebe..aposentadoria.)
percepcoes_orig$desde.que.ano.recebe.bolsa.familia <- as.numeric(percepcoes_orig$desde.que.ano.recebe.bolsa.familia)
percepcoes_orig$renda.de.açai..por.mes<- as.numeric(percepcoes_orig$renda.de.açrenda.de.açai..por.mes)
percepcoes_orig$distancia.da.tua.casa.para.o.mercado..horas.de.barco. <- as.numeric(percepcoes_orig$distancia.da.tua.casa.para.o.mercado..horas.de.barco.)
percepcoes_orig$núnúmero.de.famílias.morando.na.comunidade <- as.numeric(percepcoes_orig$núnúmero.de.famílias.morando.na.comunidade)
percepcoes_orig$tamanho.da.propriedade..m.<-as.numeric(percepcoes_orig$tamanho.da.propriedade..m.)
percepcoes_orig$quantos...do.seu.terreno.é.terra.firme.que.nunca.inunda..m....<-as.numeric(percepcoes_orig$quantos...do.seu.terreno.é.terra.firme.que.nunca.inunda..m....)
###convertendo números em numeric
percepcoes_orig$tempo.que.vive.nessa.comunidade <- as.numeric(percepcoes_orig$tempo.que.vive.nessa.comunidade)
percepcoes_orig$quanto.tempo.é.casado.ou.mora.junto..anos.<- as.numeric(percepcoes_orig$quanto.tempo.é.casado.ou.mora.junto..anos.)
percepcoes_orig$quanto.tempo.é.casado.ou.mora.junto..anos..1<- as.numeric(percepcoes_orig$quanto.tempo.é.casado.ou.mora.junto..anos..1)
percepcoes_orig$educação..esposa.<-as.numeric(percepcoes_orig$educação..esposa.)
percepcoes_orig$educação..esposa..codif<- as.numeric(percepcoes_orig$percepcoes_orig$educação..esposa..codif)
percepcoes_orig$idade..marido.<- as.numeric(percepcoes_orig$idade..marido.)
percepcoes_orig$educação..marido.<-as.numeric(percepcoes_orig$educação..marido.)
percepcoes_orig$valor.do.aposentadoria<-as.numeric(percepcoes_orig$valor.do.aposentadoria)
percepcoes_orig$desde.que.ano.recebe..aposentadoria. <- as.numeric(percepcoes_orig$desde.que.ano.recebe..aposentadoria.)
percepcoes_orig$desde.que.ano.recebe.bolsa.familia <- as.numeric(percepcoes_orig$desde.que.ano.recebe.bolsa.familia)
percepcoes_orig$renda.de.açai..por.mes<- as.numeric(percepcoes_orig$renda.de.açrenda.de.açai..por.mes)
percepcoes_orig$distancia.da.tua.casa.para.o.mercado..horas.de.barco. <- as.numeric(percepcoes_orig$distancia.da.tua.casa.para.o.mercado..horas.de.barco.)
percepcoes_orig$número.de.famílias.morando.na.comunidade <- as.numeric(percepcoes_orig$número.de.famílias.morando.na.comunidade)
percepcoes_orig$tamanho.da.propriedade..m.<-as.numeric(percepcoes_orig$tamanho.da.propriedade..m.)
percepcoes_orig$quantos...do.seu.terreno.é.terra.firme.que.nunca.inunda..m....<-as.numeric(percepcoes_orig$quantos...do.seu.terreno.é.terra.firme.que.nunca.inunda..m....)
###convertendo números em numeric
percepcoes_orig$tempo.que.vive.nessa.comunidade <- as.numeric(percepcoes_orig$tempo.que.vive.nessa.comunidade)
percepcoes_orig$quanto.tempo.é.casado.ou.mora.junto..anos.<- as.numeric(percepcoes_orig$quanto.tempo.é.casado.ou.mora.junto..anos.)
percepcoes_orig$quanto.tempo.é.casado.ou.mora.junto..anos..1<- as.numeric(percepcoes_orig$quanto.tempo.é.casado.ou.mora.junto..anos..1)
percepcoes_orig$educação..esposa.<-as.numeric(percepcoes_orig$educação..esposa.)
percepcoes_orig$educação..esposa..codif<- as.numeric(percepcoes_orig$educação..esposa..codif)
percepcoes_orig$idade..marido.<- as.numeric(percepcoes_orig$idade..marido.)
percepcoes_orig$educação..marido.<-as.numeric(percepcoes_orig$educação..marido.)
percepcoes_orig$valor.do.aposentadoria<-as.numeric(percepcoes_orig$valor.do.aposentadoria)
percepcoes_orig$desde.que.ano.recebe..aposentadoria. <- as.numeric(percepcoes_orig$desde.que.ano.recebe..aposentadoria.)
percepcoes_orig$desde.que.ano.recebe.bolsa.familia <- as.numeric(percepcoes_orig$desde.que.ano.recebe.bolsa.familia)
percepcoes_orig$renda.de.açai..por.mes<- as.numeric(percepcoes_orig$renda.de.açai..por.mes)
percepcoes_orig$distancia.da.tua.casa.para.o.mercado..horas.de.barco. <- as.numeric(percepcoes_orig$distancia.da.tua.casa.para.o.mercado..horas.de.barco.)
percepcoes_orig$número.de.famílias.morando.na.comunidade <- as.numeric(percepcoes_orig$número.de.famílias.morando.na.comunidade)
percepcoes_orig$tamanho.da.propriedade..m.<-as.numeric(percepcoes_orig$tamanho.da.propriedade..m.)
percepcoes_orig$quantos...do.seu.terreno.é.terra.firme.que.nunca.inunda..m....<-as.numeric(percepcoes_orig$quantos...do.seu.terreno.é.terra.firme.que.nunca.inunda..m....)
###convertendo números em numeric
percepcoes_orig$tempo.que.vive.nessa.comunidade <- as.numeric(percepcoes_orig$tempo.que.vive.nessa.comunidade)
percepcoes_orig$quanto.tempo.é.casado.ou.mora.junto..anos.<- as.numeric(percepcoes_orig$quanto.tempo.é.casado.ou.mora.junto..anos.)
percepcoes_orig$quanto.tempo.é.casado.ou.mora.junto..anos..1<- as.numeric(percepcoes_orig$quanto.tempo.é.casado.ou.mora.junto..anos..1)
percepcoes_orig$educação..esposa.<-as.numeric(percepcoes_orig$educação..esposa.)
percepcoes_orig$educação..esposa..codif<- as.numeric(percepcoes_orig$educação..esposa..codif)
percepcoes_orig$idade..marido.<- as.numeric(percepcoes_orig$idade..marido.)
percepcoes_orig$educação..marido.<-as.numeric(percepcoes_orig$educação..marido.)
percepcoes_orig$valor.do.aposentadoria<-as.numeric(percepcoes_orig$valor.do.aposentadoria)
percepcoes_orig$desde.que.ano.recebe..aposentadoria. <- as.numeric(percepcoes_orig$desde.que.ano.recebe..aposentadoria.)
percepcoes_orig$desde.que.ano.recebe.bolsa.familia <- as.numeric(percepcoes_orig$desde.que.ano.recebe.bolsa.familia)
percepcoes_orig$renda.de.açai..por.mes<- as.numeric(percepcoes_orig$renda.de.açai..por.mes)
percepcoes_orig$distancia.da.tua.casa.para.o.mercado..horas.de.barco. <- as.numeric(percepcoes_orig$distancia.da.tua.casa.para.o.mercado..horas.de.barco.)
percepcoes_orig$número.de.famílias.morando.na.comunidade <- as.numeric(percepcoes_orig$número.de.famílias.morando.na.comunidade)
percepcoes_orig$tamanho.da.propriedade..m.<-as.numeric(percepcoes_orig$tamanho.da.propriedade..m.)
percepcoes_orig$quantos...do.seu.terreno.é.terra.firme.que.nunca.inunda..m....<-as.numeric(percepcoes_orig$quantos...do.seu.terreno.é.terra.firme.que.nunca.inunda..m....)
###convertendo números em numeric
percepcoes_orig$tempo.que.vive.nessa.comunidade <- as.numeric(percepcoes_orig$tempo.que.vive.nessa.comunidade)
percepcoes_orig$quanto.tempo.é.casado.ou.mora.junto..anos.<- as.numeric(percepcoes_orig$quanto.tempo.é.casado.ou.mora.junto..anos.)
percepcoes_orig$quanto.tempo.é.casado.ou.mora.junto..anos..1<- as.numeric(percepcoes_orig$quanto.tempo.é.casado.ou.mora.junto..anos..1)
percepcoes_orig$educação..esposa.<-as.numeric(percepcoes_orig$educação..esposa.)
percepcoes_orig$educação..esposa..codif<- as.numeric(percepcoes_orig$educação..esposa..codif)
percepcoes_orig$idade..marido.<- as.numeric(percepcoes_orig$idade..marido.)
percepcoes_orig$educação..marido.<-as.numeric(percepcoes_orig$educação..marido.)
percepcoes_orig$valor.do.aposentadoria<-as.numeric(percepcoes_orig$valor.do.aposentadoria)
percepcoes_orig$desde.que.ano.recebe..aposentadoria. <- as.numeric(percepcoes_orig$desde.que.ano.recebe..aposentadoria.)
percepcoes_orig$desde.que.ano.recebe.bolsa.familia <- as.numeric(percepcoes_orig$desde.que.ano.recebe.bolsa.familia)
percepcoes_orig$renda.de.açai..por.mes<- as.numeric(percepcoes_orig$renda.de.açai..por.mes)
percepcoes_orig$distancia.da.tua.casa.para.o.mercado..horas.de.barco. <- as.numeric(percepcoes_orig$distancia.da.tua.casa.para.o.mercado..horas.de.barco.)
percepcoes_orig$número.de.famílias.morando.na.comunidade <- as.numeric(percepcoes_orig$número.de.famílias.morando.na.comunidade)
percepcoes_orig$tamanho.da.propriedade..m.<-as.numeric(percepcoes_orig$tamanho.da.propriedade..m.)
percepcoes_orig$quantos...do.seu.terreno.é.terra.firme.que.nunca.inunda..m....<-as.numeric(percepcoes_orig$quantos...do.seu.terreno.é.terra.firme.que.nunca.inunda..m....)
### Criando um subconjunto apenas com variáveis nao numéricas
nn.percepcoes<-percepcoes_orig[sapply(percepcoes_orig,is.character)]
fun<-function(n){levels(as.factor(n))}
fun(names(nn.percepcoes))
levels<-sapply(nn.percepcoes, fun)
str(nn.percepcoes)
levels[10]
levels[1]
levels[2]
levels[3]
levels[4]
levels[5]
levels[6]
levels[7]
levels[8]
levels[9]
levels[10]
levels[11]
percepcoes_orig$religião..esposa.[which(percepcoes_orig$religião..esposa. == "Oeiras")] <- ""
levels[12]
### Subsistency Project
### Data Correction - Family Members File
### Reference to Source File
### source("1_Family_Members.R",print.eval=TRUE)
###  Definindo diretório
setwd("/home/miguel/Projetos/Percepcoes/03.Limpeza")
### 0. LOADING PACKAGED OR EXTERNAL CODES -----------------------------------
rm(list = ls())
library(dplyr)
library(tidyr)
source('../05.AuxiliaryFunctions/aux-functions.R')
### 1. DEFINING PATHS  ------------------------------------------------------
path_main <- get_path()
path_data <- file.path(path_main, "02.Dados")
path_tidy <- file.path(path_main,  "04.Dadosprocessados")
### 2. READING COMPLETE DATASET ---------------------------------------------
percepcoes_orig <- read.csv(file.path(path_data, "00_percepcoes.csv"),
stringsAsFactors = FALSE)
names(percepcoes_orig) <- tolower(names(percepcoes_orig))
### 3. CREATING NEW DATAFRAME FOR PEOPLE ------------------------------------
###convertendo números em numeric
percepcoes_orig$tempo.que.vive.nessa.comunidade <- as.numeric(percepcoes_orig$tempo.que.vive.nessa.comunidade)
percepcoes_orig$quanto.tempo.é.casado.ou.mora.junto..anos.<- as.numeric(percepcoes_orig$quanto.tempo.é.casado.ou.mora.junto..anos.)
percepcoes_orig$quanto.tempo.é.casado.ou.mora.junto..anos..1<- as.numeric(percepcoes_orig$quanto.tempo.é.casado.ou.mora.junto..anos..1)
percepcoes_orig$educação..esposa.<-as.numeric(percepcoes_orig$educação..esposa.)
percepcoes_orig$educação..esposa..codif<- as.numeric(percepcoes_orig$educação..esposa..codif)
percepcoes_orig$idade..marido.<- as.numeric(percepcoes_orig$idade..marido.)
percepcoes_orig$educação..marido.<-as.numeric(percepcoes_orig$educação..marido.)
percepcoes_orig$valor.do.aposentadoria<-as.numeric(percepcoes_orig$valor.do.aposentadoria)
percepcoes_orig$desde.que.ano.recebe..aposentadoria. <- as.numeric(percepcoes_orig$desde.que.ano.recebe..aposentadoria.)
percepcoes_orig$desde.que.ano.recebe.bolsa.familia <- as.numeric(percepcoes_orig$desde.que.ano.recebe.bolsa.familia)
percepcoes_orig$renda.de.açai..por.mes<- as.numeric(percepcoes_orig$renda.de.açai..por.mes)
percepcoes_orig$distancia.da.tua.casa.para.o.mercado..horas.de.barco. <- as.numeric(percepcoes_orig$distancia.da.tua.casa.para.o.mercado..horas.de.barco.)
percepcoes_orig$número.de.famílias.morando.na.comunidade <- as.numeric(percepcoes_orig$número.de.famílias.morando.na.comunidade)
percepcoes_orig$tamanho.da.propriedade..m.<-as.numeric(percepcoes_orig$tamanho.da.propriedade..m.)
percepcoes_orig$quantos...do.seu.terreno.é.terra.firme.que.nunca.inunda..m....<-as.numeric(percepcoes_orig$quantos...do.seu.terreno.é.terra.firme.que.nunca.inunda..m....)
### Criando um subconjunto apenas com variáveis nao numéricas
nn.percepcoes<-percepcoes_orig[sapply(percepcoes_orig,is.character)]
fun<-function(n){levels(as.factor(n))}
fun(names(nn.percepcoes))
levels<-sapply(nn.percepcoes, fun)
levels[1]
levels[2]
levels[3]
levels[4]
levels[5]
levels[6]
levels[7]
levels[8]
levels[9]
levels[10]
levels[11]
levels[12]
percepcoes_orig$local.que.nasceu..esposa.[grep("abaete|abaeté",
percepcoes_orig$local.que.nasceu..esposa., ignore.case =  T)] <- "Abaetetuba"
percepcoes_orig$local.que.nasceu..esposa.[grep("igarapé Miri",
percepcoes_orig$local.que.nasceu..esposa., ignore.case =  T)] <- "Igarapé Mirim"
percepcoes_orig$local.que.nasceu..esposa.[grep(" urubueua",
percepcoes_orig$local.que.nasceu..esposa., ignore.case =  T)] <- "Urubueua"
levels[13]
levels[14]
levels[15]
levels[16]
percepcoes_orig$filiado.colonia..esposa.[which(percepcoes_orig$filiado.colonia..esposa. == "Sim")] <- "sim"
levels[17]
levels[18]
percepcoes_orig$municipio
percepcoes_orig <- mutate_each(percepcoes_orig, funs(toupper))
percepcoes_orig <- mutate_all(percepcoes_orig, funs(toupper))
percepcoes_orig$municipio
?funs
percepcoes_orig <- mutate_all(percepcoes_orig, funs(tolower))
percepcoes_orig$municipio
### Subsistency Project
### Data Correction - Family Members File
### Reference to Source File
### source("1_Family_Members.R",print.eval=TRUE)
###  Definindo diretório
setwd("/home/miguel/Projetos/Percepcoes/03.Limpeza")
### 0. LOADING PACKAGED OR EXTERNAL CODES -----------------------------------
rm(list = ls())
library(dplyr)
library(tidyr)
source('../05.AuxiliaryFunctions/aux-functions.R')
### 1. DEFINING PATHS  ------------------------------------------------------
path_main <- get_path()
path_data <- file.path(path_main, "02.Dados")
path_tidy <- file.path(path_main,  "04.Dadosprocessados")
### 2. READING COMPLETE DATASET ---------------------------------------------
percepcoes_orig <- read.csv(file.path(path_data, "00_percepcoes.csv"),
stringsAsFactors = FALSE)
names(percepcoes_orig) <- tolower(names(percepcoes_orig))
### 3. CREATING NEW DATAFRAME FOR PEOPLE ------------------------------------
###Colocando todos os caracteres em caixa baixa
percepcoes_orig <- mutate_all(percepcoes_orig, funs(tolower))
###convertendo números em numeric
percepcoes_orig$tempo.que.vive.nessa.comunidade <- as.numeric(percepcoes_orig$tempo.que.vive.nessa.comunidade)
percepcoes_orig$quanto.tempo.é.casado.ou.mora.junto..anos.<- as.numeric(percepcoes_orig$quanto.tempo.é.casado.ou.mora.junto..anos.)
percepcoes_orig$quanto.tempo.é.casado.ou.mora.junto..anos..1<- as.numeric(percepcoes_orig$quanto.tempo.é.casado.ou.mora.junto..anos..1)
percepcoes_orig$educação..esposa.<-as.numeric(percepcoes_orig$educação..esposa.)
percepcoes_orig$educação..esposa..codif<- as.numeric(percepcoes_orig$educação..esposa..codif)
percepcoes_orig$idade..marido.<- as.numeric(percepcoes_orig$idade..marido.)
percepcoes_orig$educação..marido.<-as.numeric(percepcoes_orig$educação..marido.)
percepcoes_orig$valor.do.aposentadoria<-as.numeric(percepcoes_orig$valor.do.aposentadoria)
percepcoes_orig$desde.que.ano.recebe..aposentadoria. <- as.numeric(percepcoes_orig$desde.que.ano.recebe..aposentadoria.)
percepcoes_orig$desde.que.ano.recebe.bolsa.familia <- as.numeric(percepcoes_orig$desde.que.ano.recebe.bolsa.familia)
percepcoes_orig$renda.de.açai..por.mes<- as.numeric(percepcoes_orig$renda.de.açai..por.mes)
percepcoes_orig$distancia.da.tua.casa.para.o.mercado..horas.de.barco. <- as.numeric(percepcoes_orig$distancia.da.tua.casa.para.o.mercado..horas.de.barco.)
percepcoes_orig$número.de.famílias.morando.na.comunidade <- as.numeric(percepcoes_orig$número.de.famílias.morando.na.comunidade)
percepcoes_orig$tamanho.da.propriedade..m.<-as.numeric(percepcoes_orig$tamanho.da.propriedade..m.)
percepcoes_orig$quantos...do.seu.terreno.é.terra.firme.que.nunca.inunda..m....<-as.numeric(percepcoes_orig$quantos...do.seu.terreno.é.terra.firme.que.nunca.inunda..m....)
### Criando um subconjunto apenas com variáveis nao numéricas
nn.percepcoes<-percepcoes_orig[sapply(percepcoes_orig,is.character)]
fun<-function(n){levels(as.factor(n))}
fun(names(nn.percepcoes))
levels<-sapply(nn.percepcoes, fun)
###Corrigindo levels religião..esposa
percepcoes_orig$religião..esposa.[which(percepcoes_orig$religião..esposa. == "Oeiras")] <- ""
###Corrigindo local.que.nasceu..esposa
percepcoes_orig$local.que.nasceu..esposa.[grep("abaete|abaeté",
percepcoes_orig$local.que.nasceu..esposa., ignore.case =  T)] <- "abaetetuba"
#percepcoes_orig$local.que.nasceu..esposa.[grep("igarapé Miri",
#                                percepcoes_orig$local.que.nasceu..esposa., ignore.case =  T)] <- "Igarapé Mirim"
percepcoes_orig$local.que.nasceu..esposa.[grep(" urubueua",
percepcoes_orig$local.que.nasceu..esposa., ignore.case =  T)] <- "urubueua"
### Corrigindo filiado.sindicato..esposa
percepcoes_orig$filiado.colonia..esposa.[which(percepcoes_orig$filiado.colonia..esposa. == "Sim")] <- "sim"
### Corrigindo religião..marido.
percepcoes_orig$religião..marido.[which(percepcoes_orig$religião..marido. == "Evangelico")]
###Corrigindo levels comunidade
percepcoes_orig$comunidade[which(percepcoes_orig$comunidade == "arumanduba")] <- "arumanduba"
percepcoes_orig$comunidade[which(percepcoes_orig$comunidade == "Vila Palheta")] <- "palheta"
percepcoes_orig$comunidade[which(percepcoes_orig$comunidade == "Jupatituba")] <- "ilha jupatituba"
percepcoes_orig$comunidade[grep("ilha ponta|ilha ponta-negra|ponta negra",
percepcoes_orig$comunidade, ignore.case =  T)] <- "ilha ponta negra"
percepcoes_orig$comunidade[grep("periquitão|ilha piriquitão",
percepcoes_orig$comunidade, ignore.case =  T)] <- "ilha periquitão"
levels[18]
levels[17]
levels[19]
levels[18]
levels[17]
levels[16]
levels[15]
levels[12]
levels[11]
levels[10]
levels[11]
levels[12]
levels[13]
levels[14]
levels[15]
levels[16]
levels[17]
levels[18]
levels[19]
levels[20]
levels[21]
percepcoes_orig$filiado.colonia..esposa.[which(percepcoes_orig$filiado.colonia..esposa. == "Sim")] <- "sim"
iconv(percepcoes_orig, to="ASCII//TRANSLIT")
levels[21]
levels[21]
### Corrigindo local.que.nasceu..marido.
percepcoes_orig$local.que.nasceu..marido.[which(percepcoes_orig$local.que.nasceu..marido. == "abaete")] <- "abaetetuba"
percepcoes_orig$local.que.nasceu..marido.[which(percepcoes_orig$local.que.nasceu..marido. == "belem")] <- "belém"
percepcoes_orig$local.que.nasceu..marido.[which(percepcoes_orig$local.que.nasceu..marido. == "río inembú")] <- "rio inembú"
levels[22]
percepcoes_orig$filiado.colonia..marido.[which(percepcoes_orig$filiado.colonia..marido. == "não ")] <- "não"
levels[22]
levels[23]
levels[24]
levels[25]
percepcoes_orig$como.você.se.identifica[grep("pescado|pescador ",
percepcoes_orig$como.você.se.identifica, ignore.case = TRUE )] <- "pescador"
percepcoes_orig$como.você.se.identifica[grep(" ribeirinho|ribeirinho ",
percepcoes_orig$como.você.se.identifica, ignore.case = TRUE )] <- "ribeirinho"
levels[25]
levels[26]
###Corrigindo como.você.se.identifica.corrigido
percepcoes_orig$como.vocêcomo.você.se.identifica.corrigido[grep("pescado|pescador ",
percepcoes_orig$como.vocêcomo.você.se.identifica.corrigido, ignore.case = TRUE )] <- "pescador"
percepcoes_orig$como.vocêcomo.você.se.identifica.corrigido[grep(" ribeirinho|ribeirinho ",
percepcoes_orig$como.vocêcomo.você.se.identifica.corrigido, ignore.case = TRUE )] <- "ribeirinho"
percepcoes_orig$como.você.se.identifica.corrigido[grep("pescado|pescador ",
percepcoes_orig$como.você.se.identifica.corrigido, ignore.case = TRUE )] <- "pescador"
percepcoes_orig$como.você.se.identifica.corrigido[grep(" ribeirinho|ribeirinho ",
percepcoes_orig$como.você.se.identifica.corrigido, ignore.case = TRUE )] <- "ribeirinho"
levels[26]
levels[27]
percepcoes_orig$participa.de.alguma.cooperativa..qual.[which(percepcoes_orig$participa.de.alguma.cooperativa..qual. == "não ")] <- "não"
levels[28]
levels[29]
levels[30]
levels[31]
levels[32]
levels[33]
levels[34]
levels[35]
percepcoes_orig$frequência.que.recebe.o.salario[which(percepcoes_orig$frequência.que.recebe.o.salario == "2011")] <- ""
levels[36]
levels[37]
levels[38]
levels[39]
levels[40]
levels[41]
levels[42]
levels[43]
percepcoes_orig$frequência.que.recebe.seguro.defeso[grep("4|4 mese|4 meses ",frequência.que.recebe.seguro.defeso)] <- "4 meses"
percepcoes_orig$frequência.que.recebe.seguro.defeso[grep("4|4 mese|4 meses ",
percepcoes_orig$frequência.que.recebe.seguro.defeso,
ignore.case =  T)] <- "4 meses"
percepcoes_orig$frequência.que.recebe.seguro.defeso[grep("4|4 mese|4 meses ",
percepcoes_orig$frequência.que.recebe.seguro.defeso,
ignore.case =  T)] <- "4 meses"
levels[43]
levels[44]
levels[45]
levels[46]
str(nn.percepcoes)
levels[46]
levels[47]
levels[48]
levels[49]
levels[50]
levels[50]
levels[51]
levels[52]
levels[53]
levels[54]
###Corrigindo frequência.que.recebe.beneficio.saúde
percepcoes_orig$frequência.que.recebe.pronaf[grep("mês",
percepcoes_orig$frequência.que.recebe.pronaf,
ignore.case =  T)] <- "mensal"
levels[54]
levels[55]
levels[56]
levels[57]
levels[58]
levels[59]
levels[60]
levels[61]
e
percepcoes_orig$onde.pesca.o.peixe[which(percepcoes_orig$onde.pesca.o.peixe == "furo do palheta")] <- "furo da palheta"
percepcoes_orig$onde.pesca.o.peixe[which(percepcoes_orig$onde.pesca.o.peixe == "no rio")] <- "rio"
percepcoes_orig$onde.pesca.o.peixe[which(percepcoes_orig$onde.pesca.o.peixe == " rio tauari")] <- "rio tauari"
###Corrigindo onde.pesca.o.peixe
percepcoes_orig$onde.pesca.o.peixe[which(percepcoes_orig$onde.pesca.o.peixe == "furo do palheta")] <- "furo da palheta"
percepcoes_orig$onde.pesca.o.peixe[which(percepcoes_orig$onde.pesca.o.peixe == "no rio")] <- "rio"
percepcoes_orig$onde.pesca.o.peixe[which(percepcoes_orig$onde.pesca.o.peixe == " rio tauari")] <- "rio tauari"
levels[62]
percepcoes_orig$em.que.ambiente[grep(" rio tauari|tauari|tauary",percepcoes_orig$em.que.ambiente, ignore.case = T)] <-"rio tauari"
levels[62]
levels[63]
levels[64]
levels[65]
levels[66]
levels[67]
levels[68]
###Corrigindo onde.pesca.o.camarao
percepcoes_orig$onde.pesca.o.camarão.[grep(" rio tauari|igarapé tauari",percepcoes_orig$onde.pesca.o.camarão., ignore.case = T)] <-"rio tauari"
percepcoes_orig$onde.pesca.o.camarão.[grep("rio, praia",percepcoes_orig$onde.pesca.o.camarão., ignore.case = T)] <-"rio e praia"
levels[69]
percepcoes_orig$pesca.com.matapi.[which(percepcoes_orig$pesca.com.matapi. == "sim ")] <- "sim"
levels[70]
percepcoes_orig$em.que.ambiente.pesca.[grep(" rio tauari|tauari|tauary",percepcoes_orig$em.que.ambiente.pesca., ignore.case = T)] <-"rio tauari"
levels[71]
levels[72]
levels[73]
levels[74]
###Corrigindo extração.de.palmito.consume.ou.venda
percepcoes_orig$extração.de.palmito.consume.ou.venda[which(
percepcoes_orig$extração.de.palmito.consume.ou.venda == "consome e venda")] <- "consome e vende"
levels[75]
levels[76]
levels[77]
levels[78]
levels[79]
levels[80]
levels[81]
levels[82]
levels[83]
levels[84]
levels[85]
levels[86]
levels[87]
levels[88]
levels[89]
percepcoes_orig$que.produtos.forestais.extrae
levels[90]
percepcoes_orig$renda.da.extração.de.produtos.florestais.no.ano
levels[91]
levels[92]
levels[93]
levels[94]
levels[95]
levels[96]
levels[97]
levels[98]
percepcoes_orig$outros.tipos.de.comercio[which(percepcoes_orig$outros.tipos.de.comercio == "empresxa")] <- "empresa"
levels[99]
levels[100]
levels[101]
levels[102]
levels[103]
levels[104]
levels[105]
levels[106]
levels[107]
levels[108]
levels[109]
levels[110]
levels[111]
levels[112]
levels[113]
levels[114]
levels[115]
levels[116]
levels[117]
levels[118]
levels[119]
levels[120]
levels[121]
levels[122]
levels[123]
levels[124]
levels[125]
levels[126]
levels[127]
levels[128]
levels[129]
levels[130]
levels[131]
levels[132]
levels[133]
levels[134]
levels[135]
levels[136]
levels[137]
levels[138]
levels[139]
levels[140]
levels[141]
percepcoes_orig$que.medida.tomas.para.reduzir.o.impacto.da.alta.temperatura.na.pesca.de.peixe.[grep("evita desmatamento|
evitar desmatamento menos|
evitar desmatamento menos a natureza|
evitar evitar desmatamento|
evitar evitar desmatamento a mata|
evitar o evitar evitar desmatamento",
percepcoes_orig$que.medida.tomas.para.reduzir.o.impacto.da.alta.temperatura.na.pesca.de.peixe., ignore.case = T
)] <- "evitar desmatamento"
###Corrigindo que.medida.tomas.para.reduzir.o.impacto.da.alta.temperatura.na.pesca.de.peixe
percepcoes_orig$que.medida.tomas.para.reduzir.o.impacto.da.alta.temperatura.na.pesca.de.peixe.[grep("evita desmatamento|
evitar desmatamento menos|
evitar desmatamento menos a natureza|
evitar evitar desmatamento|
evitar evitar desmatamento a mata|
evitar o evitar evitar desmatamento|
não desmatar|não desmatar na beira do rio|
não evitar desmatamento|o evitar evitar desmatamento|
por causa do evitar evitar desmatamento|
reduzir desmatamento| reduzir o evitar evitar desmatamento",
percepcoes_orig$que.medida.tomas.para.reduzir.o.impacto.da.alta.temperatura.na.pesca.de.peixe., ignore.case = T
)] <- "evitar desmatamento"
levels(as.factor(percepcoes_orig$que.medida.tomas.para.reduzir.o.impacto.da.alta.temperatura.na.pesca.de.peixe.))
percepcoes_orig$que.medida.tomas.para.reduzir.o.impacto.da.alta.temperatura.na.pesca.de.peixe.[grep("evita desmatamento|
evitar desmatamento menos|
evitar desmatamento menos a natureza|
evitar evitar desmatamento|
evitar evitar desmatamento a mata|
evitar o evitar evitar desmatamento|
não desmatar|não desmatar na beira do rio|
não evitar desmatamento|o evitar evitar desmatamento|
por causa do evitar evitar desmatamento|
reduzir desmatamento| reduzir o evitar evitar desmatamento",
percepcoes_orig$que.medida.tomas.para.reduzir.o.impacto.da.alta.temperatura.na.pesca.de.peixe., ignore.case = T
)] <- "evitar desmatamento"
levels(as.factor(percepcoes_orig$que.medida.tomas.para.reduzir.o.impacto.da.alta.temperatura.na.pesca.de.peixe.))
percepcoes_orig$que.medida.tomas.para.reduzir.o.impacto.da.alta.temperatura.na.pesca.de.peixe.[grep("evita desmatamento|
evitar desmatamento menos|
evitar desmatamento menos a natureza|
evitar evitar desmatamento|
evitar evitar desmatamento a mata|
evitar o evitar evitar desmatamento|
não desmatar|não desmatar na beira do rio|
não evitar desmatamento|o evitar evitar desmatamento|
por causa do evitar evitar desmatamento|
reduzir desmatamento| reduzir o evitar evitar desmatamento",
percepcoes_orig$que.medida.tomas.para.reduzir.o.impacto.da.alta.temperatura.na.pesca.de.peixe., ignore.case = T)] <- "evitar desmatamento"
levels(as.factor(percepcoes_orig$que.medida.tomas.para.reduzir.o.impacto.da.alta.temperatura.na.pesca.de.peixe.))
percepcoes_orig$que.medida.tomas.para.reduzir.o.impacto.da.alta.temperatura.na.pesca.de.peixe.[grep("evita desmatamento|evitar desmatamento menos|evitar desmatamento menos a natureza|evitar evitar desmatamento| evitar evitar desmatamento a mata| evitar o evitar evitar desmatamento|não desmatar|não desmatar na beira do rio|não evitar desmatamento|o evitar evitar desmatamento|por causa do evitar evitar desmatamento|reduzir desmatamento|reduzir o evitar evitar desmatamento", percepcoes_orig$que.medida.tomas.para.reduzir.o.impacto.da.alta.temperatura.na.pesca.de.peixe., ignore.case = T)] <- "evitar desmatamento"
levels(as.factor(percepcoes_orig$que.medida.tomas.para.reduzir.o.impacto.da.alta.temperatura.na.pesca.de.peixe.))
percepcoes_orig$que.medida.tomas.para.reduzir.o.impacto.da.alta.temperatura.na.pesca.de.peixe.[grep("evita desmatamento|evitar desmatamento menos|evitar desmatamento menos a natureza|evitar evitar desmatamento| evitar evitar desmatamento a mata| evitar o evitar evitar desmatamento|não desmatar|não desmatar na beira do rio|não evitar desmatamento|o evitar evitar desmatamento|por causa do evitar evitar desmatamento|reduzir desmatamento|reduzir o evitar evitar desmatamento|reflorestar,evitar desmatamento", percepcoes_orig$que.medida.tomas.para.reduzir.o.impacto.da.alta.temperatura.na.pesca.de.peixe., ignore.case = T)] <- "evitar desmatamento"
###Corrigindo que.medida.tomas.para.reduzir.o.impacto.da.alta.temperatura.na.pesca.de.peixe
percepcoes_orig$que.medida.tomas.para.reduzir.o.impacto.da.alta.temperatura.na.pesca.de.peixe.[grep("evita desmatamento|evitar desmatamento menos|evitar desmatamento menos a natureza|evitar evitar desmatamento| evitar evitar desmatamento a mata| evitar o evitar evitar desmatamento|não desmatar|não desmatar na beira do rio|não evitar desmatamento|o evitar evitar desmatamento|por causa do evitar evitar desmatamento|reduzir desmatamento|reduzir o evitar evitar desmatamento|reflorestar,evitar desmatamento", percepcoes_orig$que.medida.tomas.para.reduzir.o.impacto.da.alta.temperatura.na.pesca.de.peixe., ignore.case = T)] <- "evitar desmatamento"
percepcoes_orig$que.medida.tomas.para.reduzir.o.impacto.da.alta.temperatura.na.pesca.de.peixe.[grep("menos queimada|menos queimadas", percepcoes_orig$que.medida.tomas.para.reduzir.o.impacto.da.alta.temperatura.na.pesca.de.peixe., ignore.case = T)] <- "evitar queimadas"
percepcoes_orig$que.medida.tomas.para.reduzir.o.impacto.da.alta.temperatura.na.pesca.de.peixe.[grep("não soube responder", percepcoes_orig$que.medida.tomas.para.reduzir.o.impacto.da.alta.temperatura.na.pesca.de.peixe., ignore.case = T)] <- "não sabe"
percepcoes_orig$que.medida.tomas.para.reduzir.o.impacto.da.alta.temperatura.na.pesca.de.peixe.[grep("refloresta|reflorestamento", percepcoes_orig$que.medida.tomas.para.reduzir.o.impacto.da.alta.temperatura.na.pesca.de.peixe., ignore.case = T)] <- "reflorestar"
levels(as.factor(percepcoes_orig$que.medida.tomas.para.reduzir.o.impacto.da.alta.temperatura.na.pesca.de.peixe.))
###Corrigindo que.medida.tomas.para.reduzir.o.impacto.da.alta.temperatura.na.pesca.de.peixe
percepcoes_orig$que.medida.tomas.para.reduzir.o.impacto.da.alta.temperatura.na.pesca.de.peixe.[grep("evita desmatamento|evitar desmatamento menos|evitar desmatamento menos a natureza|evitar evitar desmatamento| evitar evitar desmatamento a mata| evitar o evitar evitar desmatamento|não desmatar|não desmatar na beira do rio|não evitar desmatamento|o evitar evitar desmatamento|por causa do evitar evitar desmatamento|reduzir desmatamento|reduzir o evitar evitar desmatamento|reflorestar,evitar desmatamento", percepcoes_orig$que.medida.tomas.para.reduzir.o.impacto.da.alta.temperatura.na.pesca.de.peixe., ignore.case = T)] <- "evitar desmatamento"
percepcoes_orig$que.medida.tomas.para.reduzir.o.impacto.da.alta.temperatura.na.pesca.de.peixe.[grep("menos queimada|menos queimadas", percepcoes_orig$que.medida.tomas.para.reduzir.o.impacto.da.alta.temperatura.na.pesca.de.peixe., ignore.case = T)] <- "evitar queimadas"
percepcoes_orig$que.medida.tomas.para.reduzir.o.impacto.da.alta.temperatura.na.pesca.de.peixe.[grep("não soube responder", percepcoes_orig$que.medida.tomas.para.reduzir.o.impacto.da.alta.temperatura.na.pesca.de.peixe., ignore.case = T)] <- "não sabe"
percepcoes_orig$que.medida.tomas.para.reduzir.o.impacto.da.alta.temperatura.na.pesca.de.peixe.[grep("refloresta|reflorestamento", percepcoes_orig$que.medida.tomas.para.reduzir.o.impacto.da.alta.temperatura.na.pesca.de.peixe., ignore.case = T)] <- "reflorestar"
percepcoes_orig$que.medida.tomas.para.reduzir.o.impacto.da.alta.temperatura.na.pesca.de.peixe.[grep("o entrevistado quer criar peixe em cativeriro", percepcoes_orig$que.medida.tomas.para.reduzir.o.impacto.da.alta.temperatura.na.pesca.de.peixe., ignore.case = T)] <- "criação em cativeiro"
percepcoes_orig$que.medida.tomas.para.reduzir.o.impacto.da.alta.temperatura.na.pesca.de.peixe.[grep("proteger as matas e evitar efluentes lançados pelas empresas na vila do conde", percepcoes_orig$que.medida.tomas.para.reduzir.o.impacto.da.alta.temperatura.na.pesca.de.peixe., ignore.case = T)] <- "proteger as matas"
levels(as.factor(percepcoes_orig$que.medida.tomas.para.reduzir.o.impacto.da.alta.temperatura.na.pesca.de.peixe.))
levels[141]
levels[142]
